function fadeUpdate(t,e,a){t.classList.add("fade"),t.classList.add("hidden"),setTimeout((()=>{t.style.backgroundColor=e,t.textContent=a,t.classList.remove("hidden")}),150)}function updateColorDisplays(t,e,a,o){let r=`rgba(${t}, ${e}, ${a}, ${o})`,d=`#${t.toString(16).padStart(2,"0")}${e.toString(16).padStart(2,"0")}${a.toString(16).padStart(2,"0")}`.toUpperCase();fadeUpdate(document.getElementById("hex-preview"),r,d);let n=`rgba(${t}, ${e}, ${a}, ${o})`;fadeUpdate(document.getElementById("rgba-preview"),r,n);let l=rgbToHsl(t,e,a),s=`hsla(${Math.round(l.hue)}, ${Math.round(l.saturation)}%, ${Math.round(l.lightness)}%, ${o})`;fadeUpdate(document.getElementById("hsla-preview"),r,s),setTimeout((()=>{adjustTextContrast()}),300)}function rgbToHsl(t,e,a){t/=255,e/=255,a/=255;let o,r,d=Math.max(t,e,a),n=Math.min(t,e,a),l=(d+n)/2;if(d==n)o=r=0;else{let s=d-n;switch(r=l>.5?s/(2-d-n):s/(d+n),d){case t:o=(e-a)/s+(e<a?6:0);break;case e:o=(a-t)/s+2;break;case a:o=(t-e)/s+4}o/=6}return{hue:360*o,saturation:100*r,lightness:100*l}}function adjustTextContrast(){document.querySelectorAll(".color-preview").forEach((t=>{let e=getComputedStyle(t).backgroundColor.match(/\d+/g);if(e&&e.length>=3){let a=(299*parseInt(e[0])+587*parseInt(e[1])+114*parseInt(e[2]))/1e3;t.style.color=a>128?"black":"white"}}))}updateColorDisplays(255,255,255,1),document.getElementById("generateColor").addEventListener("click",(()=>{updateColorDisplays(Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.floor(255*Math.random()),Math.random().toFixed(2))}));